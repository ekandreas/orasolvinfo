{"version":3,"sources":["../assets/scripts/unauthenticated.js"],"names":["getParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","$","loginVue","Vue","el","data","error","success","warning","email","password","remember","nonce","wpdata","ajax","ajax_url","methods","login","e","preventDefault","this","waiting_message","method","action","dataType","status","message","reload","err","responseText","console","log","modal","forgotVue","forgot","registerVue","display_name","workplace","phone","register","removeClass","addClass","meta","jQuery","hide","complete"],"mappings":"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","file":"unauthenticated.js","sourcesContent":["/* ========================================================================\n * Unauthenticated LobbyKit\n * ======================================================================== */\n function getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n(function($) {\n\n    if($('#loginModal')) {\n\n      /*************************************\n      * Login\n      **************************************/\n      var loginVue = new Vue({\n        el: '#loginModal',\n        data: {\n          error: '',\n          success: '',\n          warning: '',\n          email: '',\n          password: '',\n          remember: false,\n          nonce: wpdata.nonce,\n          ajax: wpdata.ajax_url\n        },\n        methods: {\n          login: function (e) {\n\n            e.preventDefault();\n\n            this.error = '';\n            this.success = '';\n            this.warning = wpdata.waiting_message;\n\n            $.ajax({\n              method: \"POST\",\n              url: this.ajax,\n              data: {\n                'action': 'login',\n                'email': this.email,\n                'password': this.password,\n                'remember': this.remember,\n                'nonce': this.nonce\n              },\n              dataType: 'json',\n              success:function(data) {\n                loginVue.warning='';\n                if( data.status=='success' ) {\n                  loginVue.success = data.message;\n                  location.reload(); \n                }\n                else {\n                  loginVue.error = data.message;\n                }\n              },\n              error:function(err) {\n                loginVue.warning='';\n                loginVue.error = 'Error! ' + err.responseText;\n                console.log(err);\n              }\n            });\n\n          }\n        }\n      });\n\n      if( getParameterByName('login') ) { \n        $('#loginModal').modal('show');\n      }\n\n      /*************************************\n      * Forgot\n      **************************************/\n      var forgotVue = new Vue({\n        el: '#forgotModal',\n        data: {\n          error: '',\n          success: '',\n          warning: '',\n          email: '',\n          nonce: wpdata.nonce,\n          ajax: wpdata.ajax_url\n        },\n        methods: {\n          forgot: function (e) {\n\n            e.preventDefault();\n\n            this.error = '';\n            this.success = '';\n            this.warning = wpdata.waiting_message;\n\n            $.ajax({\n              method: \"POST\",\n              url: this.ajax,\n              data: {\n                'action': 'forgot',\n                'email': this.email,\n                'nonce': this.nonce\n              },\n              dataType: 'json',\n              success:function(data) {\n                forgotVue.warning='';\n                if( data.status=='success' ) {\n                  forgotVue.success = data.message;\n                }\n                else {\n                  forgotVue.error = data.message;\n                }\n              },\n              error:function(err) {\n                forgotVue.warning='';\n                forgotVue.error = 'Error! ' + err.responseText;\n                console.log(err);\n              }\n            });\n\n          }\n        }\n      });\n\n      /*************************************\n      * Register\n      **************************************/\n      var registerVue = new Vue({\n        el: '#registerModal',\n        data: {\n          error: '',\n          success: '',\n          warning: '',\n          email: '',\n          display_name: '',\n          workplace: '',\n          phone: '',\n          password: '',\n          nonce: wpdata.nonce,\n          ajax: wpdata.ajax_url\n        },\n        methods: {\n          register: function (e) {\n\n            e.preventDefault();\n\n            this.error = '';\n            this.success = '';\n            this.warning = wpdata.waiting_message;\n\n            $('#registerLoader').removeClass('disabled');\n            $('#registerLoader').addClass('active');\n\n            $.ajax({\n              method: \"POST\",\n              url: this.ajax,\n              data: {\n                'action': 'register',\n                'email': this.email,\n                'password': this.password,\n                'display_name': this.display_name,\n                'meta': {\n                  'phone': this.phone,\n                  'workplace': this.workplace,\n                },\n                'nonce': this.nonce\n              },\n              dataType: 'json',\n              success: function(data) {\n                registerVue.warning='';\n                if( data.status=='success' ) {\n                  registerVue.success = data.message;\n                  jQuery('#registerSendButton').hide();\n                }\n                else {\n                  registerVue.error = data.message;\n                }\n              },\n              error: function(err) {\n                registerVue.warning='';\n                registerVue.error = 'Error! ' + err.responseText;\n                console.log(err);\n              },\n              complete: function(data) {\n                $('#registerLoader').removeClass('active');\n                $('#registerLoader').addClass('disabled');\n              }\n            });\n\n          }\n        }\n      });\n    }\n\n\n})(jQuery); // Fully reference jQuery after this point.\n"],"sourceRoot":"assets/scripts/"}